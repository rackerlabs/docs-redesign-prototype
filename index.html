<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rackspace Developer Documentation</title>
    <link rel="stylesheet" href="public/dist/css/main.css">
</head>
<body>
    <header class="site-header">
        <div class="header-links">
            <div class="header-links-container">
                <div class="phone-chat-links">
                    <span class="text-link">Support: <a href="tel:18009614454">1-800-961-4454</a></span>
                    <span class="text-link">Sales: <a href="tel:18448589954">1-844-858-9954</a></span>
                    <span class="text-link"><a href="">Sales Chat</a></span>
                </div>
                <div class="portal-links">
                    <span class="text-link"><a href="">Developers</a></span>
                    <span class="text-link"><a href="">Partners</a></span>
                    <a href="" class="btn-link">Sign Up</a>
                    <a href="" class="btn-link">Log In</a>
                </div>
            </div>
        </div>
        <div class="header-nav">
            <nav class="header-nav-container">
                <ul>
                    <li class="logo"><a href=""><img src="public/src/img/rackspace-logo.svg" alt="Rackspace Logo" /></a></li>
                    <li><a href="">Documentation</a></li>
                    <li><a href="">Products</a></li>
                    <li><a href="">Community</a></li>
                </ul>
            </nav>
        </div>
        <div class="header-headline">
            <h2>
                <span class="headline-accent">Rackspace</span>
                Developers Documentation
            </h2>
            <p class="tagline">Letâ€™s build something great together!</p>
        </div>
    </header>
    <section class="docs-body">
        <div class="background">
            <div class="left"></div>
            <div class="center"></div>
            <div class="right"></div>
        </div>
        <nav class="docs-section-nav" data-drc-section-nav-toggle data-parent=".docs-body">
            <div class="section-nav-container" data-drc-sticky data-offset-top="331" data-drc-flex-height data-flex-bottom="302">
                <a href="https://github.com/rackerlabs/docs-quickstart/edit/master/cloud-servers/getting-started/index.rst" target="_blank" class="github-link"><span class="icon fa fa-github"></span>Edit On Github</a>
                <ul>
                    <li class="active">
                        <a href="">Cloud Servers</a>
                        <ul>
                            <li data-drc-scroll-indicator="concepts"><a href="#concepts">Concepts</a></li>
                            <li data-drc-scroll-indicator="authentication"><a href="#authentication">Authentication</a></li>
                            <li data-drc-scroll-indicator="use-the-api">
                                <a href="#use-the-api">Use the API</a>
                                <ul>
                                    <li data-drc-scroll-indicator="set-up-your-first-server"><a href="#set-up-your-first-server">Set up your first server</a></li>
                                    <li data-drc-scroll-indicator="delete-server"><a href="#delete-server">Delete Server</a></li>
                                    <li data-drc-scroll-indicator="manage-keypairs"><a href="#manage-keypairs">Manage keypairs</a></li>
                                </ul>
                            </li>
                            <li data-drc-scroll-indicator="more-information"><a href="#more-information">More Information</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                            <li><a href="">Extra Links</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="section-nav-toggle"></div>
        </nav>
        <article class="docs-content">
            <ul class="language-selector" data-drc-sticky data-offset-top="322.5">
                <li><a href="" data-drc-language-selector="cli"><span>CLI</span></a></li>
                <li><a href="" data-drc-language-selector="curl"><span>cURL</span></a></li>
                <li><a href="" data-drc-language-selector="go"><span>Go</span></a></li>
                <li><a href="" data-drc-language-selector="java"><span>Java</span></a></li>
                <li><a href="" data-drc-language-selector="cs"><span>.NET</span></a></li>
                <li><a href="" data-drc-language-selector="node"><span>Node.js</span></a></li>
                <li><a href="" data-drc-language-selector="php"><span>PHP</span></a></li>
                <li><a href="" data-drc-language-selector="python"><span>Python</span></a></li>
                <li><a href="" data-drc-language-selector="ruby"><span>Ruby</span></a></li>
            </ul>
            <header class="docs-section docs-intro">
                <div class="description">
                    <h1>Quickstart for Cloud Servers</h1>
                    <div class="revision-date">Revised On: <time datetime="2015-06-05">6/5/15</time></div>
                    <ul class="tags">
                        <li><a href="">Tag One</a></li>
                        <li><a href="">Tag Two</a></li>
                        <li><a href="">Tag Three</a></li>
                    </ul>
                </div>
            </header>
            <section class="docs-section">
                <div class="description">
                    <p>Rackspace Cloud Servers allows you to allocate and deallocate compute resources. It is based on OpenStack Compute (Nova), a community-led open-source platform.</p>
                    <h2 data-drc-scroll-milestone="concepts" id="concepts">Concepts</h2>
                    <p>To use this service effectively, you should understand how these key ideas are used in this context:</p>
                    <ul>
                        <li><strong>Server:</strong> A computer that provides explicit services to the client software running on that system. A server is a virtual machine (VM) instance in the Cloud Servers environment. To create a server, you must specify a name, flavor reference, and image reference.</li>
                        <li><strong>Image:</strong> The type of operating system you want to use. You can choose from pre-defined images or create your own custom images.</li>
                        <li><strong>Flavor:</strong> A resource configuration for a server. Each flavor is a unique combination of disk, memory, vCPUs, and network bandwidth. You can choose from pre-defined flavors.</li>
                        <li><strong>Network: </strong> The virtual space where your servers live. Rackspace has two default networks: PublicNet, which is the Internet; ServiceNet, which is our internal network. Although you can create as many isolated networks as you want, the default configuration is for servers to be connected to both PublicNet (for public Internet connectivity) and ServiceNet (for internal connectivity with your other servers).</li>
                    </ul>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <h2 data-drc-scroll-milestone="authentication" id="authentication">Authentication</h2>
                    <p>To use this service you have to authenticate first. To do this, you will need your Rackspace username and API key. Your username is the one you use to login to the Cloud Control Panel at <a href="" class="external">http://mycloud.rackspace.com/</a>.</p>
                    <p>To find your API key, first navigate to the Cloud Control Panel, then click on your <strong>username</strong> at the top right corner, and then finally click on Account Settings. You will be taken to a page that shows your settings. Under Login Details, you can show or reset your <strong>API key</strong>.</p>
                    <p>You may specify a default region as well. Here is a list of available regions:</p>
                    <ul>
                        <li>DFW (Dallas-Fort Worth, TX, US)</li>
                        <li>HKG (Hong Kong, China)</li>
                        <li>IAD (Blacksburg, VA, US)</li>
                        <li>LON (London, England)</li>
                        <li>SYD (Sydney, Australia)</li>
                    </ul>
                    <p>Some users have access to another region in ORD (Chicago, IL). New users will not have this region.</p>
                    <p>Once you have these pieces of information, you can pass them into the SDK by replacing <strong>{username}</strong>, <strong>{apiKey}</strong>, and <strong>{region}</strong> with your info:</p>
                </div>
                <div class="code">
                    <h2>Authentication</h2>
                    <div data-drc-code-sample="cli">
                        <div class="highlight"><pre><span class="c1">// Not implemented</span></pre></div>
                    </div>
                    <div data-drc-code-sample="cs"><div class="highlight"><pre><span class="n">CloudIdentity</span> <span class="n">cloudIdentity</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CloudIdentity</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">APIKey</span> <span class="p">=</span> <span class="s">"{apikey}"</span><span class="p">,</span>
    <span class="n">Username</span> <span class="p">=</span> <span class="s">"{username}"</span>
<span class="p">};</span>
<span class="n">CloudServersProvider</span> <span class="n">cloudServersProvider</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CloudServersProvider</span><span class="p">(</span><span class="n">cloudIdentity</span><span class="p">);</span>
</pre></div>
                    </div>
                    <div data-drc-code-sample="go"><div class="highlight"><pre><span class="kn">import</span> <span class="p">(</span>
  <span class="s">"github.com/rackspace/gophercloud"</span>
  <span class="s">"github.com/rackspace/gophercloud/rackspace"</span>
  <span class="s">"github.com/rackspace/gophercloud/rackspace/compute/v2/images"</span>
  <span class="s">"github.com/rackspace/gophercloud/rackspace/compute/v2/flavors"</span>
  <span class="s">"github.com/rackspace/gophercloud/rackspace/compute/v2/servers"</span>
  <span class="s">"github.com/rackspace/gophercloud/rackspace/compute/v2/keypairs"</span>

  <span class="nx">oskeypairs</span> <span class="s">"github.com/rackspace/gophercloud/openstack/compute/v2/extensions/keypairs"</span>
<span class="p">)</span>

<span class="nx">ao</span> <span class="o">:=</span> <span class="nx">gophercloud</span><span class="p">.</span><span class="nx">AuthOptions</span><span class="p">{</span>
  <span class="nx">Username</span><span class="p">:</span> <span class="s">"{username}"</span><span class="p">,</span>
  <span class="nx">APIKey</span><span class="p">:</span> <span class="s">"{apiKey}"</span><span class="p">,</span>
<span class="p">}</span>
<span class="nx">provider</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rackspace</span><span class="p">.</span><span class="nx">AuthenticatedClient</span><span class="p">(</span><span class="nx">ao</span><span class="p">)</span>

<span class="nx">serviceClient</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rackspace</span><span class="p">.</span><span class="nx">NewComputeV2</span><span class="p">(</span><span class="nx">provider</span><span class="p">,</span> <span class="nx">gophercloud</span><span class="p">.</span><span class="nx">EndpointOpts</span><span class="p">{</span>
  <span class="nx">Region</span><span class="p">:</span> <span class="s">"{region}"</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>
                    </div>
                    <div data-drc-code-sample="java"><div class="highlight"><pre><span class="c1">// Authentication in jclouds is lazy and happens on the first call to the cloud.</span>
<span class="n">NovaApi</span> <span class="n">novaApi</span> <span class="o">=</span> <span class="n">ContextBuilder</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">(</span><span class="s">"rackspace-cloudservers-us"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">credentials</span><span class="o">(</span><span class="s">"{username}"</span><span class="o">,</span> <span class="s">"{apiKey}"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">buildApi</span><span class="o">(</span><span class="n">NovaApi</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre></div>
                    </div>
                    <div data-drc-code-sample="node"><div class="highlight"><pre><span class="nx">pkgcloud</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pkgcloud'</span><span class="p">);</span>

<span class="c1">// Each client is bound to a specific service and provider.</span>
<span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">pkgcloud</span><span class="p">.</span><span class="nx">compute</span><span class="p">.</span><span class="nx">createClient</span><span class="p">({</span>
  <span class="nx">provider</span><span class="o">:</span> <span class="s1">'rackspace'</span><span class="p">,</span>
  <span class="nx">username</span><span class="o">:</span> <span class="s1">'{username}'</span><span class="p">,</span>
  <span class="nx">apiKey</span><span class="o">:</span> <span class="s1">'{apiKey}'</span><span class="p">,</span>
  <span class="nx">region</span><span class="o">:</span> <span class="s1">'{region}'</span>
<span class="p">});</span>
</pre></div>
</div>
                    <div data-drc-code-sample="php"><div class="highlight"><pre><span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">OpenCloud\Rackspace</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Rackspace</span><span class="p">(</span><span class="nx">Rackspace</span><span class="o">::</span><span class="na">US_IDENTITY_ENDPOINT</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'{username}'</span><span class="p">,</span>
    <span class="s1">'apiKey'</span>   <span class="o">=&gt;</span> <span class="s1">'{apiKey}'</span>
<span class="p">));</span>

<span class="nv">$service</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">computeService</span><span class="p">(</span><span class="k">null</span><span class="p">,</span> <span class="s1">'{region}'</span><span class="p">);</span>
</pre></div>
                    </div>
                    <div data-drc-code-sample="python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pyrax</span>

<span class="n">pyrax</span><span class="o">.</span><span class="n">set_setting</span><span class="p">(</span><span class="s">"identity_type"</span><span class="p">,</span> <span class="s">"rackspace"</span><span class="p">)</span>
<span class="n">pyrax</span><span class="o">.</span><span class="n">set_default_region</span><span class="p">(</span><span class="s">'{region}'</span><span class="p">)</span>
<span class="n">pyrax</span><span class="o">.</span><span class="n">set_credentials</span><span class="p">(</span><span class="s">'{username}'</span><span class="p">,</span> <span class="s">'{apiKey}'</span><span class="p">)</span>

<span class="n">cs</span> <span class="o">=</span> <span class="n">pyrax</span><span class="o">.</span><span class="n">cloudservers</span>
</pre></div>
</div>
                    <div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'fog'</span>

<span class="vi">@client</span> <span class="o">=</span> <span class="no">Fog</span><span class="o">::</span><span class="no">Compute</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
  <span class="ss">:provider</span> <span class="o">=&gt;</span> <span class="s1">'rackspace'</span><span class="p">,</span>
  <span class="ss">:rackspace_username</span> <span class="o">=&gt;</span> <span class="s1">'{username}'</span><span class="p">,</span>
  <span class="ss">:rackspace_api_key</span> <span class="o">=&gt;</span> <span class="s1">'{apiKey}'</span><span class="p">,</span>
  <span class="ss">:rackspace_region</span> <span class="o">=&gt;</span> <span class="s1">'{region}'</span>
<span class="p">)</span>
</pre></div>
                    </div>
                    <div data-drc-code-sample="curl"><div class="highlight"><pre><span class="c"># {username}, {apiKey} below are placeholders, do not enclose '{}' when you replace them with actual credentials.</span>

curl -s https://identity.api.rackspacecloud.com/v2.0/tokens -X POST <span class="se">\</span>
   -d <span class="s1">'{"auth":{"RAX-KSKEY:apiKeyCredentials":{"username":"{username}", "apiKey":"{apiKey}"}}}'</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="p">|</span> python -m json.tool

<span class="c"># From the resulting json, set three environment variables: TENANT, TOKEN and ENDPOINT.</span>

<span class="nb">export </span><span class="nv">TENANT</span><span class="o">=</span><span class="s2">"{tenantId}"</span>
<span class="nb">export </span><span class="nv">TOKEN</span><span class="o">=</span><span class="s2">"{tokenId}"</span>
<span class="nb">export </span><span class="nv">ENDPOINT</span><span class="o">=</span><span class="s2">"{publicUrl}"</span> <span class="c"># For the compute service</span>
</pre></div>
                    </div>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <h2 data-drc-scroll-milestone="use-the-api" id="use-the-api">Use the API</h2>
                    <p>Some of the basic operations you can perform with this API are described below.</p>

                    <h3 data-drc-scroll-milestone="set-up-your-first-server" id="set-up-your-first-server">Set up your first server</h3>
                    <p>Once youâ€™ve finished your initial setup, you can begin the process of creating your first server.</p>
                    <p>To do this, you need to decide which <strong>Image</strong> and <strong>Flavor</strong> you want to use.</p>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <h4>Choose operating system</h4>
                    <p>An image, or operating system, forms the basis of your server. Each image has a unique ID, which is used to retrieve more details from the API. If you already know the ID, you can retrieve more details about the image:</p>
                    <p>Alternatively, you can traverse through the list of images:</p>
                    <p>Once youâ€™ve found the appropriate operating system and its ID, you can move on to picking your hardware.</p>
                </div>
                <div class="code">
                    <h4>Choose Operating System</h4>
                    <div data-drc-code-sample="cli">
                        <div class="highlight"><pre><span class="c1">// Not implemented</span></pre></div>
                    </div>
<div data-drc-code-sample="cs" ><div class="highlight"><pre><span class="n">ServerImage</span> <span class="n">serverImage</span> <span class="p">=</span> <span class="n">cloudServersProvider</span><span class="p">.</span><span class="n">GetImage</span><span class="p">(</span><span class="s">"{image_id}"</span><span class="p">);</span>
</pre></div>
  </div><div data-drc-code-sample="go" ><div class="highlight"><pre><span class="nx">image</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">images</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">,</span> <span class="s">"{imageId}"</span><span class="p">).</span><span class="nx">Extract</span><span class="p">()</span>
</pre></div>
</div><div data-drc-code-sample="java" ><div class="highlight"><pre><span class="n">ImageApi</span> <span class="n">imageApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getImageApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">);</span>

<span class="n">Image</span> <span class="n">image</span> <span class="o">=</span> <span class="n">imageApi</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"{imageId}"</span><span class="o">);</span>
</pre></div>
</div><div data-drc-code-sample="node" ><div class="highlight"><pre><span class="nx">client</span><span class="p">.</span><span class="nx">getImage</span><span class="p">(</span><span class="nx">imageId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">image</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// TODO handle as appropriate</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// TODO use your image here</span>
<span class="p">});</span>
</pre></div>
</div><div data-drc-code-sample="php" ><div class="highlight"><pre><span class="nv">$image</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">image</span><span class="p">(</span><span class="s1">'{imageId}'</span><span class="p">);</span>
</pre></div>
</div><div data-drc-code-sample="python" ><div class="highlight"><pre><span class="n">image</span> <span class="o">=</span> <span class="n">pyrax</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'{imageId}'</span><span class="p">)</span>
</pre></div>
</div><div data-drc-code-sample="ruby" ><div class="highlight"><pre><span class="n">image</span> <span class="o">=</span> <span class="vi">@client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'{imageId}'</span><span class="p">)</span>
</pre></div>
</div><div data-drc-code-sample="curl" ><div class="highlight"><pre>curl -X GET <span class="nv">$ENDPOINT</span>/images/<span class="o">{</span>imageId<span class="o">}</span> <span class="se">\</span>
  -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool
</pre></div>
</div>
<div holder=""><div data-drc-code-sample="csharp" ><div class="highlight"><pre><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">SimpleServerImage</span><span class="p">&gt;</span> <span class="n">imageList</span> <span class="p">=</span> <span class="n">cloudServersProvider</span><span class="p">.</span><span class="n">ListImages</span><span class="p">();</span>
</pre></div>
</div><div data-drc-code-sample="go" ><div class="highlight"><pre><span class="nx">err</span> <span class="o">:=</span> <span class="nx">images</span><span class="p">.</span><span class="nx">List</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">).</span><span class="nx">EachPage</span><span class="p">(</span><span class="kd">func</span> <span class="p">(</span><span class="nx">page</span> <span class="nx">pagination</span><span class="p">.</span><span class="nx">Page</span><span class="p">)</span> <span class="p">(</span><span class="kt">bool</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">images</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">images</span><span class="p">.</span><span class="nx">ExtractImages</span><span class="p">(</span><span class="nx">page</span><span class="p">)</span>
  <span class="c1">// Use the page of []images.Image</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div><div data-drc-code-sample="java" ><div class="highlight"><pre><span class="n">ImageApi</span> <span class="n">imageApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getImageApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">);</span>

<span class="n">ImmutableList</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Image</span><span class="o">&gt;</span> <span class="n">images</span> <span class="o">=</span> <span class="n">imageApi</span><span class="o">.</span><span class="na">listInDetail</span><span class="o">().</span><span class="na">concat</span><span class="o">().</span><span class="na">toList</span><span class="o">();</span>
</pre></div>
</div><div data-drc-code-sample="javascript" ><div class="highlight"><pre><span class="nx">client</span><span class="p">.</span><span class="nx">getImages</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">images</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// TODO handle as appropriate</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// TODO decide on an image to use</span>
<span class="p">});</span>
</pre></div>
</div><div data-drc-code-sample="curl" ><div class="highlight"><pre>curl -X GET <span class="nv">$ENDPOINT</span>/images <span class="se">\</span>
  -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool

<span class="c"># Choose an image from the list and note its id.</span>
<span class="nb">export </span><span class="nv">IMAGE_ID</span><span class="o">=</span><span class="s2">"{imageId}"</span>
</pre></div>
</div><div data-drc-code-sample="php" ><div class="highlight"><pre><span class="nv">$images</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">imageList</span><span class="p">();</span>
</pre></div>
</div><div data-drc-code-sample="python" ><div class="highlight"><pre><span class="n">images</span> <span class="o">=</span> <span class="n">pyrax</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</pre></div>
</div><div data-drc-code-sample="ruby" ><div class="highlight"><pre><span class="vi">@client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">all</span>
</pre></div>
</div></div>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <h4>Choose Hardware Configuration</h4>
                    <p>Flavors, or hardware configurations, dictate how powerful your servers are. Like images, each flavor has its own UUID. If you already know which flavor to use, you can retrieve its details:</p>
                </div>
                <div class="code">
                    <h4>Choose Hardware Configuration</h4>
<div data-drc-code-sample="cli">
    <div class="highlight"><pre><span class="c1">// Not implemented</span></pre></div>
</div>
<div data-drc-code-sample="cs"><div class="highlight"><pre><span class="n">FlavorDetails</span> <span class="n">flavorDetails</span> <span class="p">=</span> <span class="n">cloudServersProvider</span><span class="p">.</span><span class="n">GetFlavor</span><span class="p">(</span><span class="s">"{flavor_id}"</span><span class="p">);</span>
</pre></div>
</div>
<div data-drc-code-sample="go"><div class="highlight"><pre><span class="nx">flavor</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">flavors</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">,</span> <span class="s">"{flavorId}"</span><span class="p">).</span><span class="nx">Extract</span><span class="p">()</span>
</pre></div>
</div>
<div data-drc-code-sample="java"><div class="highlight"><pre><span class="n">FlavorApi</span> <span class="n">flavorApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getFlavorApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">);</span>

<span class="n">Flavor</span> <span class="n">flavor</span> <span class="o">=</span> <span class="n">flavorApi</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"{flavorId}"</span><span class="o">);</span>
</pre></div>
</div>
<div data-drc-code-sample="node"><div class="highlight"><pre><span class="nx">client</span><span class="p">.</span><span class="nx">getFlavor</span><span class="p">(</span><span class="nx">flavorId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">flavor</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// TODO handle as appropriate</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// TODO use your flavor here</span>
<span class="p">});</span>
</pre></div>
</div>
<div data-drc-code-sample="php"><div class="highlight"><pre><span class="nv">$flavor</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">flavor</span><span class="p">(</span><span class="s1">'{flavorId}'</span><span class="p">);</span>
</pre></div>
</div>
<div data-drc-code-sample="python"><div class="highlight"><pre><span class="n">flavor</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">flavors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'{flavorId}'</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="n">flavor</span> <span class="o">=</span> <span class="vi">@client</span><span class="o">.</span><span class="n">flavor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'{flavorId}'</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="curl"><div class="highlight"><pre>curl -X GET <span class="nv">$ENDPOINT</span>/flavors/<span class="o">{</span>flavorId<span class="o">}</span> <span class="se">\</span>
      -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool
</pre></div>
</div>

<hr>

<div data-drc-code-sample="cs"><div class="highlight"><pre><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Flavor</span><span class="p">&gt;</span> <span class="n">flavorList</span> <span class="p">=</span> <span class="n">cloudServersProvider</span><span class="p">.</span><span class="n">ListFlavors</span><span class="p">();</span>
</pre></div>
</div>
<div data-drc-code-sample="go"><div class="highlight"><pre><span class="nx">err</span> <span class="o">:=</span> <span class="nx">flavors</span><span class="p">.</span><span class="nx">List</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">).</span><span class="nx">EachPage</span><span class="p">(</span><span class="kd">func</span> <span class="p">(</span><span class="nx">page</span> <span class="nx">pagination</span><span class="p">.</span><span class="nx">Page</span><span class="p">)</span> <span class="p">(</span><span class="kt">bool</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">flavors</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">flavors</span><span class="p">.</span><span class="nx">ExtractFlavors</span><span class="p">(</span><span class="nx">page</span><span class="p">)</span>
  <span class="c1">// Use the page of []flavors.Flavor</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
<div data-drc-code-sample="java"><div class="highlight"><pre><span class="n">FlavorApi</span> <span class="n">flavorApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getFlavorApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">);</span>

<span class="n">ImmutableList</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Flavor</span><span class="o">&gt;</span> <span class="n">flavors</span> <span class="o">=</span> <span class="n">flavorApi</span><span class="o">.</span><span class="na">listInDetail</span><span class="o">().</span><span class="na">concat</span><span class="o">().</span><span class="na">toList</span><span class="o">();</span>
</pre></div>
</div>
<div data-drc-code-sample="node"><div class="highlight"><pre><span class="nx">client</span><span class="p">.</span><span class="nx">getFlavors</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">flavors</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// TODO handle as appropriate</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// TODO figure out which flavors to use</span>
  <span class="c1">// just grab the first flavor id</span>
  <span class="kd">var</span> <span class="nx">flavorId</span> <span class="o">=</span> <span class="nx">flavors</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<div data-drc-code-sample="php"><div class="highlight"><pre><span class="nv">$flavors</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">flavorList</span><span class="p">();</span>
</pre></div>
</div>
<div data-drc-code-sample="python"><div class="highlight"><pre><span class="n">flavor_list</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">list_flavors</span><span class="p">()</span>
</pre></div>
</div>
<div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="vi">@client</span><span class="o">.</span><span class="n">flavors</span><span class="o">.</span><span class="n">all</span>
</pre></div>
</div>
<div data-drc-code-sample="curl"><div class="highlight"><pre>curl -X GET <span class="nv">$ENDPOINT</span>/flavors <span class="se">\</span>
  -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool

<span class="c"># Choose a flavor from the list and note its id.</span>
<span class="nb">export </span><span class="nv">FLAVOR_ID</span><span class="o">=</span><span class="s2">"{flavorId}"</span>
</pre></div>
</div>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <h4>Build Server</h4>
                    <p>Now that you have an image ID and flavor ID, you can create your server:</p>
                    <p>This is an asynchronous operation, meaning that it will <em>not</em> block your request while the build process runs. It will provision your VM behind the scenes. When the build completes, it places your server in an ACTIVE state. At this point, the server is available for you to use.</p>
                    <p>Some SDKs allow you to check on the status of the build:</p>
                </div>
                <div class="code">
                    <h4>Build Server</h4>
<div data-drc-code-sample="cli">
    <div class="highlight"><pre><span class="c1">// Not implemented</span></pre></div>
</div>
<div data-drc-code-sample="cs"><div class="highlight"><pre><span class="n">cloudServersProvider</span><span class="p">.</span><span class="n">CreateServer</span><span class="p">(</span><span class="s">"{server_name}"</span><span class="p">,</span> <span class="s">"{image_id}"</span><span class="p">,</span> <span class="s">"{flavor_id}"</span><span class="p">);</span>
</pre></div>
</div>
<div data-drc-code-sample="go"><div class="highlight"><pre><span class="nx">server</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">servers</span><span class="p">.</span><span class="nx">Create</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">,</span> <span class="nx">servers</span><span class="p">.</span><span class="nx">CreateOpts</span><span class="p">{</span>
  <span class="nx">Name</span><span class="p">:</span>      <span class="s">"My new server"</span><span class="p">,</span>
  <span class="nx">ImageRef</span><span class="p">:</span>  <span class="nx">image</span><span class="p">.</span><span class="nx">ID</span><span class="p">,</span>
  <span class="nx">FlavorRef</span><span class="p">:</span> <span class="nx">flavor</span><span class="p">.</span><span class="nx">ID</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">Extract</span><span class="p">()</span>
</pre></div>
</div>
<div data-drc-code-sample="java"><div class="highlight"><pre><span class="n">ServerApi</span> <span class="n">serverApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getServerApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">);</span>

<span class="n">ServerCreated</span> <span class="n">serverCreated</span> <span class="o">=</span> <span class="n">serverApi</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"My new server"</span><span class="o">,</span> <span class="s">"{imageId}"</span><span class="o">,</span> <span class="s">"{flavorId}"</span><span class="o">);</span>
</pre></div>
</div>
<div data-drc-code-sample="node"><div class="highlight"><pre><span class="nx">client</span><span class="p">.</span><span class="nx">createServer</span><span class="p">({</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">'My new server'</span><span class="p">,</span>
  <span class="nx">image</span><span class="o">:</span> <span class="nx">imageId</span><span class="p">,</span>
  <span class="nx">flavor</span><span class="o">:</span> <span class="nx">flavorId</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">server</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// TODO handle as appropriate</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// TODO use your server here</span>
<span class="p">});</span>
</pre></div>
</div>
<div data-drc-code-sample="php"><div class="highlight"><pre><span class="nv">$server</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">server</span><span class="p">();</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$server</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">'name'</span>     <span class="o">=&gt;</span> <span class="s1">'My new server'</span><span class="p">,</span>
    <span class="s1">'imageId'</span>  <span class="o">=&gt;</span> <span class="nv">$image</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">(),</span>
    <span class="s1">'flavorId'</span> <span class="o">=&gt;</span> <span class="nv">$flavor</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">()</span>
<span class="p">));</span>
</pre></div>
</div>
<div data-drc-code-sample="python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">servers</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s">'bessie01'</span><span class="p">,</span> <span class="n">image</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">flavor</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="vi">@client</span><span class="o">.</span><span class="n">servers</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'My new server'</span><span class="p">,</span>
  <span class="ss">:image_id</span> <span class="o">=&gt;</span> <span class="n">image</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
  <span class="ss">:flavor_id</span> <span class="o">=&gt;</span> <span class="n">flavor</span><span class="o">.</span><span class="n">id</span>
<span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="curl"><div class="highlight"><pre><span class="c"># Reminder: all {variableNames} are placeholders only. Must be replaced by actual and valid values</span>
curl -X POST <span class="nv">$ENDPOINT</span>/servers -d <span class="se">\</span>
  <span class="s1">'{</span>
<span class="s1">    "server" : {</span>
<span class="s1">        "name" : "My new server",</span>
<span class="s1">        "imageRef": "'</span><span class="s2">"</span><span class="nv">$IMAGE_ID</span><span class="s2">"</span><span class="s1">'",</span>
<span class="s1">        "flavorRef": '</span><span class="s2">"</span><span class="nv">$FLAVOR_ID</span><span class="s2">"</span><span class="s1">',</span>
<span class="s1">      }</span>
<span class="s1">    }'</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool

<span class="nb">export </span><span class="nv">SERVER_ID</span><span class="o">=</span><span class="s2">"{serverId}"</span>
</pre></div>
</div>

<hr>

<div data-drc-code-sample="cs"><div class="highlight"><pre><span class="c1">// You can wait for any number of states, e.g. Active, Reboot, etc.</span>
<span class="n">ServerState</span><span class="p">[]</span> <span class="n">errorStates</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ServerState</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">{</span> <span class="n">ServerState</span><span class="p">.</span><span class="n">Active</span> <span class="p">};</span>
<span class="n">ServerState</span><span class="p">[]</span> <span class="n">serverStates</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ServerState</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">{</span> <span class="n">ServerState</span><span class="p">.</span><span class="n">Unknown</span> <span class="p">};</span>
<span class="n">cloudServersProvider</span><span class="p">.</span><span class="n">WaitForServerState</span><span class="p">(</span><span class="s">"{server_id}"</span><span class="p">,</span> <span class="n">serverStates</span><span class="p">,</span> <span class="n">errorStates</span><span class="p">);</span>
</pre></div>
</div>
<div data-drc-code-sample="go"><div class="highlight"><pre><span class="nx">err</span> <span class="o">:=</span> <span class="nx">servers</span><span class="p">.</span><span class="nx">WaitForStatus</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">,</span> <span class="nx">server</span><span class="p">.</span><span class="nx">ID</span><span class="p">,</span> <span class="s">"ACTIVE"</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="java"><div class="highlight"><pre><span class="n">ServerApi</span> <span class="n">serverApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getServerApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">);</span>

<span class="n">ServerPredicates</span><span class="o">.</span><span class="na">awaitActive</span><span class="o">(</span><span class="n">serverApi</span><span class="o">).</span><span class="na">apply</span><span class="o">(</span><span class="s">"{serverId}"</span><span class="o">)</span>
</pre></div>
</div>
<div data-drc-code-sample="node"><div class="highlight"><pre><span class="nx">server</span><span class="p">.</span><span class="nx">setWait</span><span class="p">({</span> <span class="nx">status</span><span class="o">:</span> <span class="nx">server</span><span class="p">.</span><span class="nx">STATUS</span><span class="p">.</span><span class="nx">running</span> <span class="p">},</span> <span class="mi">6000</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// TODO handle err as appropriate</span>
  <span class="p">}</span>

  <span class="c1">// TODO continue after status is running</span>
<span class="p">});</span>
</pre></div>
</div>
<div data-drc-code-sample="php"><div class="highlight"><pre><span class="nv">$server</span><span class="o">-&gt;</span><span class="na">waitFor</span><span class="p">(</span><span class="s1">'ACTIVE'</span><span class="p">,</span> <span class="mi">600</span><span class="p">);</span>
</pre></div>
</div>
<div data-drc-code-sample="python"><div class="highlight"><pre><span class="n">pyrax</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">wait_for_build</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="n">server</span><span class="o">.</span><span class="n">wait_for</span> <span class="p">{</span> <span class="n">active</span> <span class="p">}</span>
</pre></div>
</div>
<div data-drc-code-sample="curl"><div class="highlight"><pre><span class="c"># from resulting json below see "status"</span>
curl -X GET <span class="nv">$ENDPOINT</span>/servers/<span class="nv">$SERVER_ID</span> <span class="se">\</span>
  -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool
</pre></div>
</div>
                </div>

            </section>
            <section class="docs-section">
                <div class="description">
                    <h3 data-drc-scroll-milestone="delete-server" id="delete-server">Delete Server</h3>
                    <p>
                        To permanently delete a server:
                    </p>
                </div>
                <div class="code">
                    <h3>Delete Server</h3>
<div data-drc-code-sample="cli">
    <div class="highlight"><pre><span class="c1">// Not implemented</span></pre></div>
</div>
<div data-drc-code-sample="cs"><div class="highlight"><pre><span class="n">cloudServersProvider</span><span class="p">.</span><span class="n">DeleteServer</span><span class="p">(</span><span class="s">"{server_id}"</span><span class="p">);</span>
</pre></div>
</div>
<div data-drc-code-sample="go"><div class="highlight"><pre><span class="nx">err</span> <span class="o">:=</span> <span class="nx">servers</span><span class="p">.</span><span class="nx">Delete</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">,</span> <span class="nx">server</span><span class="p">.</span><span class="nx">ID</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="java"><div class="highlight"><pre><span class="n">ServerApi</span> <span class="n">serverApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getServerApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">);</span>

<span class="n">serverApi</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="s">"{serverId}"</span><span class="o">);</span>
</pre></div>
</div>
<div data-drc-code-sample="node"><div class="highlight"><pre><span class="nx">client</span><span class="p">.</span><span class="nx">destroyServer</span><span class="p">(</span><span class="nx">server</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// TODO handle err as appropriate</span>
<span class="p">});</span>
</pre></div>
</div>
<div data-drc-code-sample="php"><div class="highlight"><pre><span class="nv">$server</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>
</pre></div>
</div>
<div data-drc-code-sample="python"><div class="highlight"><pre><span class="n">server</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
<div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="n">server</span><span class="o">.</span><span class="n">destroy</span>
</pre></div>
</div>
<div data-drc-code-sample="curl"><div class="highlight"><pre>curl -X DELETE <span class="nv">$ENDPOINT</span>/servers/<span class="nv">$SERVER_ID</span> -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span>
</pre></div>
</div>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <h3 data-drc-scroll-milestone="manage-keypairs" id="manage-keypairs">Manage Keypairs</h3>
                    <p>By default, servers use password-based authentication. When a server is created, the HTTP response contains a root password that is required for all subsequent SSH connections. You do have the option, however, of using keypairs instead.</p>
                    <h4>Register Keypair</h4>
                    <p>To use keypair-based authentication, the API needs to know about it. You have two options: upload your existing key, or have the API create a new one for you. Weâ€™ll cover both.</p>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <p>Upload keypair:</p>
                </div>
                <div class="code">
<div data-drc-code-sample="cli">
    <div class="highlight"><pre><span class="c1">// Not implemented</span></pre></div>
</div>
<div data-drc-code-sample="cs"><div class="highlight"><pre><span class="c1">// This is not supported through the .NET SDK at this time</span>
</pre></div>
</div>
<div data-drc-code-sample="go"><div class="highlight"><pre><span class="nx">pubkey</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nx">ReadFile</span><span class="p">(</span><span class="s">"/home/my-user/.ssh/id_rsa.pub"</span><span class="p">)</span>
<span class="nx">kp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">keypairs</span><span class="p">.</span><span class="nx">Create</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">,</span> <span class="nx">oskeypairs</span><span class="p">.</span><span class="nx">CreateOpts</span><span class="p">{</span>
  <span class="nx">Name</span><span class="p">:</span> <span class="s">"my-keypair"</span><span class="p">,</span>
  <span class="nx">PublicKey</span><span class="p">:</span> <span class="nb">string</span><span class="p">(</span><span class="nx">pubkey</span><span class="p">),</span>
<span class="p">}).</span><span class="nx">Extract</span><span class="p">()</span>
</pre></div>
</div>
<div data-drc-code-sample="java"><div class="highlight"><pre><span class="n">KeyPairApi</span> <span class="n">keyPairApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getKeyPairApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>

<span class="n">File</span> <span class="n">keyPairFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"{/home/my-user/.ssh/id_rsa.pub}"</span><span class="o">);</span>
<span class="n">String</span> <span class="n">publicKey</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">keyPairFile</span><span class="o">,</span> <span class="n">UTF_8</span><span class="o">);</span> <span class="c1">// Using com.google.common.io.Files</span>

<span class="n">KeyPair</span> <span class="n">keyPair</span> <span class="o">=</span> <span class="n">keyPairApi</span><span class="o">.</span><span class="na">createWithPublicKey</span><span class="o">(</span><span class="s">"my-keypair"</span><span class="o">,</span> <span class="n">publicKey</span><span class="o">);</span>
</pre></div>
</div>
<div data-drc-code-sample="node"><div class="highlight"><pre><span class="c1">// we need the fs module to access the local disk</span>
<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

<span class="c1">// TODO provide the path to your existing key.</span>
<span class="kd">var</span> <span class="nx">keyPath</span> <span class="o">=</span> <span class="s1">'/home/my-user/.ssh/id_rsa.pub'</span><span class="p">;</span>

<span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">keyPath</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">client</span><span class="p">.</span><span class="nx">addKey</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">'my-keypair'</span><span class="p">,</span>
    <span class="s1">'public_key'</span><span class="o">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
  <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// TODO handle as appropriate</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// TODO use your key</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div data-drc-code-sample="php"><div class="highlight"><pre><span class="nv">$keypair</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">keypair</span><span class="p">();</span>

<span class="nv">$keypair</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">'name'</span>      <span class="o">=&gt;</span> <span class="s1">'my-keypair'</span><span class="p">,</span>
   <span class="s1">'publicKey'</span> <span class="o">=&gt;</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="s1">'/home/my-user/.ssh/id_rsa.pub'</span><span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<div data-drc-code-sample="python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>

<span class="n">public_key</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">"~/.ssh/id_rsa.pub"</span><span class="p">))</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">keypair</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">keypairs</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s">"mykeypair"</span><span class="p">,</span> <span class="n">public_key</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="n">key_pair</span> <span class="o">=</span> <span class="vi">@client</span><span class="o">.</span><span class="n">key_pairs</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'my-keypair'</span><span class="p">,</span>
  <span class="ss">:public_key</span> <span class="o">=&gt;</span> <span class="no">File</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">'/home/my-user/.ssh/id_rsa.pub'</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="curl"><div class="highlight"><pre>curl -X POST <span class="nv">$ENDPOINT</span>/os-keypairs -d <span class="se">\</span>
  <span class="s1">'{</span>
<span class="s1">  "keypair":{</span>
<span class="s1">      "name":"{keyPairName}",</span>
<span class="s1">      "public_key":"ssh-rsa AAAAB3Nz ..."</span>
<span class="s1">    }</span>
<span class="s1">  }'</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool
</pre></div>
</div>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <p>or have the API create one:</p>
                </div>
                <div class="code">
<div data-drc-code-sample="cli">
    <div class="highlight"><pre><span class="c1">// Not implemented</span></pre></div>
</div>
<div data-drc-code-sample="cs"><div class="highlight"><pre><span class="c1">// This is not supported through the .NET SDK at this time</span>
</pre></div>
</div>
<div data-drc-code-sample="go"><div class="highlight"><pre><span class="nx">kp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">keypairs</span><span class="p">.</span><span class="nx">Create</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">,</span> <span class="nx">oskeypairs</span><span class="p">.</span><span class="nx">CreateOpts</span><span class="p">{</span>
  <span class="nx">Name</span><span class="p">:</span> <span class="s">"my-keypair"</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">Extract</span><span class="p">()</span>
</pre></div>
</div>
<div data-drc-code-sample="java"><div class="highlight"><pre><span class="n">KeyPairApi</span> <span class="n">keyPairApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getKeyPairApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>

<span class="n">KeyPair</span> <span class="n">keyPair</span> <span class="o">=</span> <span class="n">keyPairApi</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"my-keypair"</span><span class="o">);</span>

<span class="n">File</span> <span class="n">keyPairFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"my-keypair.pem"</span><span class="o">);</span>
<span class="c1">// Using com.google.common.io.Files</span>
<span class="n">Files</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">keyPair</span><span class="o">.</span><span class="na">getPrivateKey</span><span class="o">(),</span> <span class="n">keyPairFile</span><span class="o">,</span> <span class="n">UTF_8</span><span class="o">);</span>
</pre></div>
</div>
<div data-drc-code-sample="node"><div class="highlight"><pre><span class="nx">client</span><span class="p">.</span><span class="nx">addKey</span><span class="p">({</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">'my-keypair'</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// TODO handle as appropriate</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// TODO use your key</span>
<span class="p">});</span>
</pre></div>
</div>
<div data-drc-code-sample="php"><div class="highlight"><pre><span class="c1">// Get the API to generate a new keypair.</span>
<span class="nv">$keypair</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">keypair</span><span class="p">();</span>
<span class="nv">$keypair</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'my-keypair'</span>
<span class="p">));</span>

<span class="c1">// Save the generated key to your local filesystem and set appropriate permissions.</span>
<span class="nv">$localPath</span> <span class="o">=</span> <span class="s1">'my-keypair.pem'</span><span class="p">;</span>
<span class="nb">file_put_contents</span><span class="p">(</span><span class="nv">$localPath</span><span class="p">,</span> <span class="nv">$keypair</span><span class="o">-&gt;</span><span class="na">getPrivateKey</span><span class="p">());</span>
<span class="nb">chmod</span><span class="p">(</span><span class="nv">$localPath</span><span class="p">,</span> <span class="mo">0600</span><span class="p">);</span>
</pre></div>
</div>
<div data-drc-code-sample="python"><div class="highlight"><pre><span class="c"># Not currently supported by this SDK</span>
</pre></div>
</div>
<div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="n">key_pair</span> <span class="o">=</span> <span class="vi">@client</span><span class="o">.</span><span class="n">key_pairs</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'my-keypair'</span><span class="p">)</span>
<span class="no">File</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">'my-keypair.pem'</span><span class="p">,</span> <span class="n">key_pair</span><span class="o">.</span><span class="n">private_key</span><span class="p">,</span> <span class="ss">:perm</span> <span class="o">=&gt;</span> <span class="mo">0600</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="curl"><div class="highlight"><pre>curl -X POST <span class="nv">$ENDPOINT</span>/os-keypairs -d <span class="se">\</span>
  <span class="s1">'{"keypair":{"name":"{keyPairName}"} }'</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool
</pre></div>
</div>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <h4>Use Keypairs</h4>
                    <p>If you want an existing server to use keypair-based auth, you will need to configure this yourself.</p>
                    <p>However, getting new servers to acknowledge keypairs is easy. You just need to supply the name of the pre-existing keypair when you do the create server operation, like this:</p>
                    <p>This server, after being spun up, will respond to that keypair.</p>
                </div>
                <div class="code">
<div data-drc-code-sample="cli">
    <div class="highlight"><pre><span class="c1">// Not implemented</span></pre></div>
</div>
<div data-drc-code-sample="cs"><div class="highlight"><pre><span class="c1">// This is not supported through the .NET SDK at this time</span>
</pre></div>
</div>
<div data-drc-code-sample="go"><div class="highlight"><pre><span class="nx">server</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">servers</span><span class="p">.</span><span class="nx">Create</span><span class="p">(</span><span class="nx">serviceClient</span><span class="p">,</span> <span class="nx">servers</span><span class="p">.</span><span class="nx">CreateOpts</span><span class="p">{</span>
  <span class="nx">Name</span><span class="p">:</span>      <span class="s">"My server"</span><span class="p">,</span>
  <span class="nx">ImageRef</span><span class="p">:</span>  <span class="nx">image</span><span class="p">.</span><span class="nx">ID</span><span class="p">,</span>
  <span class="nx">FlavorRef</span><span class="p">:</span> <span class="nx">flavor</span><span class="p">.</span><span class="nx">ID</span><span class="p">,</span>
  <span class="nx">KeyPair</span><span class="p">:</span>   <span class="s">"my-keypair"</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">Extract</span><span class="p">()</span>
</pre></div>
</div>
<div data-drc-code-sample="java"><div class="highlight"><pre><span class="n">ServerApi</span> <span class="n">serverApi</span> <span class="o">=</span> <span class="n">novaApi</span><span class="o">.</span><span class="na">getServerApi</span><span class="o">(</span><span class="s">"{region}"</span><span class="o">);</span>

<span class="n">CreateServerOptions</span> <span class="n">options</span> <span class="o">=</span> <span class="n">CreateServerOptions</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">keyPairName</span><span class="o">(</span><span class="s">"my-keypair"</span><span class="o">);</span>
<span class="n">ServerCreated</span> <span class="n">serverCreated</span> <span class="o">=</span> <span class="n">serverApi</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"My server"</span><span class="o">,</span> <span class="s">"{imageId}"</span><span class="o">,</span> <span class="s">"{flavorId}"</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</pre></div>
</div>
<div data-drc-code-sample="node"><div class="highlight"><pre><span class="nx">client</span><span class="p">.</span><span class="nx">createServer</span><span class="p">({</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">'My server'</span><span class="p">,</span>
  <span class="nx">image</span><span class="o">:</span> <span class="nx">imageId</span><span class="p">,</span>
  <span class="nx">flavor</span><span class="o">:</span> <span class="nx">flavorId</span><span class="p">,</span>
  <span class="nx">keyname</span><span class="o">:</span> <span class="s1">'my-keypair'</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">server</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// TODO handle as appropriate</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// TODO use your server here</span>
<span class="p">});</span>
</pre></div>
</div>
<div data-drc-code-sample="php"><div class="highlight"><pre><span class="nv">$server</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">server</span><span class="p">();</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$server</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">'name'</span>     <span class="o">=&gt;</span> <span class="s1">'My server'</span><span class="p">,</span>
    <span class="s1">'imageId'</span>  <span class="o">=&gt;</span> <span class="nv">$image</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">(),</span>
    <span class="s1">'flavorId'</span> <span class="o">=&gt;</span> <span class="nv">$flavor</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">(),</span>
    <span class="s1">'keypair'</span>  <span class="o">=&gt;</span> <span class="s1">'my-keypair'</span>
<span class="p">));</span>
</pre></div>
</div>
<div data-drc-code-sample="python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">servers</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s">'My server'</span><span class="p">,</span> <span class="n">image</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">flavor</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                           <span class="n">key_name</span><span class="o">=</span><span class="n">keypair</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="ruby"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="vi">@client</span><span class="o">.</span><span class="n">servers</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'My server'</span><span class="p">,</span>
  <span class="ss">:image_id</span> <span class="o">=&gt;</span> <span class="n">image</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
  <span class="ss">:flavor_id</span> <span class="o">=&gt;</span> <span class="n">flavor</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
  <span class="ss">:key_name</span> <span class="o">=&gt;</span> <span class="s1">'my-keypair'</span>
<span class="p">)</span>
</pre></div>
</div>
<div data-drc-code-sample="curl"><div class="highlight"><pre>curl -X POST <span class="nv">$ENDPOINT</span>/servers -d <span class="se">\</span>
  <span class="s1">'{</span>
<span class="s1">    "server" : {</span>
<span class="s1">      "name" : "My server",</span>
<span class="s1">      "imageRef": "'</span><span class="s2">"</span><span class="nv">$IMAGE_ID</span><span class="s2">"</span><span class="s1">'",</span>
<span class="s1">      "flavorRef": '</span><span class="s2">"</span><span class="nv">$FLAVOR_ID</span><span class="s2">"</span><span class="s1">',</span>
<span class="s1">      "key_name" : "my-keypair"</span>
<span class="s1">    }</span>
<span class="s1">  }'</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"X-Auth-Token: </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="p">|</span> python -m json.tool
</pre></div>
</div>
                </div>
            </section>
            <section class="docs-section">
                <div class="description">
                    <h2 data-drc-scroll-milestone="more-information" id="more-information">More Information</h2>
                    <p>This Quickstart is intentionally very brief, demonstrating only a few basic operations. If you want to know more, these are some good places to continue exploring:</p>
                    <ul>
                        <li><a href="http://developer.rackspace.com/" class="link external">http://developer.rackspace.com/</a> links to all our Software Development Kits. It also offers developer-focused support resources such as our IRC channel.</li>
                        <li><a href="http://docs.rackspace.com/" class="link external">http://docs.rackspace.com/</a> links to all our API reference documentation, where you can find additional examples and extended explanations of key concepts. It also links to our documentation for Cloud Control Panel users.</li>
                        <li><a href="https://community.rackspace.com/developers/default" class="link external">https://community.rackspace.com/developers/default</a> is a forum where you can discuss your questions and concerns with a community of Rackers, Rackspace customers, and others interested in developing software in the cloud.</li>
                    </ul>
                </div>
            </section>
        </article>
    </section>
    <footer class="site-footer">
        <div class="footer-container">
          <div class="about-links">
            <h5>About Rackspace</h5>
            <ul>
              <li><a href="">Our Story</a></li>
              <li><a href="">Leadership</a></li>
              <li><a href="">Events</a></li>
              <li><a href="">Programs</a></li>
              <li><a href="">Investors</a></li>
              <li><a href="">Legal</a></li>
            </ul>
            <ul>
              <li><a href="">News</a></li>
              <li><a href="">Responsibility</a></li>
              <li><a href="">Rack Gives Back</a></li>
              <li><a href="">Careers</a></li>
              <li><a href="">Contact Information</a></li>
            </ul>
          </div>
          <div class="blog-links">
            <h5>Blogs</h5>
            <ul>
              <li><a href="">The Rackspace Blog</a></li>
              <li><a href="">Developer Blog</a></li>
            </ul>
          </div>
          <div class="support-links">
            <h5>Support</h5>
            <ul>
              <li><a href="">Knowledge Center</a></li>
              <li><a href="">Support Forums</a></li>
              <li><a href="">API Documentation</a></li>
              <li><a href="">Support Home</a></li>
              <li><a href="">Developer Center</a></li>
            </ul>
          </div>
          <div class="other-links">
            <h5>Change Your Region: </h5>
            <ul>
              <li><a href="">Privacy Statement</a></li>
              <li><a href="">Website Terms</a></li>
              <li><a href="">Trademarks</a></li>
              <li><a href="">Sitemap</a></li>
              <li><a href="">Feedback</a></li>
            </ul>
            <span class="copyright">&copy;2015 Rackspace US, Inc.</span>
          </div>
        </div>
    </footer>
    <script src="public/dist/js/main.js"></script>
</body>
</html>
